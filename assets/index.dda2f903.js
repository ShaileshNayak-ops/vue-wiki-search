import{r as e,w as r,c as t,a as s,b as a,v as n,d as l,e as o,t as i,F as u,f as c,o as d,g as p}from"./vendor.2a7de741.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?r.credentials="include":"anonymous"===e.crossorigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();const h={setup(){const t=e(""),s=e([]),a=e({}),n=e(20),l=e(!1);return{search:t,results:s,searchInfo:a,handleSubmit:async()=>{if(""==t.value)return;const e=async()=>{const e=`https://en.wikipedia.org/w/api.php?action=query&list=search&prop=info&inprop=url&utf8=&format=json&origin=*&srlimit=${n.value}&srsearch=${t.value}`,r=await fetch(e);r.ok||console.error(r.statusText);const l=await r.json();s.value=l.query.search,a.value=l.query.searchinfo};await e(),l.value=!l.value,r(n,(async()=>{e()}))},pageUrl:e=>`https://en.wikipedia.org/?curid=${e.pageid}`,loadSize:n,submitted:l}}},f={class:"container"},m=s("header",null,[s("h1",null,"Wiki Search")],-1),y=s("br",null,null,-1),b=s("input",{type:"submit",class:"submit"},null,-1),g=s("br",null,null,-1),v=["innerHTML"],k=s("br",null,null,-1),w=["href"],S={class:"loader"};h.render=function(e,r,p,h,L,M){return d(),t("div",f,[m,s("form",{onSubmit:r[1]||(r[1]=l(((...e)=>h.handleSubmit&&h.handleSubmit(...e)),["prevent"]))},[a(s("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>h.search=e),class:"input",placeholder:"What do you want to search?"},null,512),[[n,h.search]]),y,b],32),a(s("span",{class:"total"}," Search Results: "+i(h.searchInfo.totalhits),513),[[o,h.searchInfo.totalhits]]),(d(!0),t(u,null,c(h.results,((e,r)=>(d(),t("div",{key:r,class:"card"},[s("h3",null,i(e.title),1),g,s("p",{innerHTML:e.snippet},null,8,v),k,s("a",{href:h.pageUrl(e),target:"_blank"}," Read More ",8,w)])))),128)),s("div",S,[a(s("button",{onClick:r[2]||(r[2]=e=>h.loadSize+=20),class:"load"}," Load More... ",512),[[o,h.submitted]])])])},p(h).mount("#app");
